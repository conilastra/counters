{"ast":null,"code":"import _readOnlyError from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/readOnlyError\";import _defineProperty from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import Axios from'axios';import _ from'lodash';var apiEndpoint='/api/v1/counter';var getState=function getState(_ref){var getStore=_ref.getStore,getActions=_ref.getActions,setStore=_ref.setStore;return{store:{counters:[],sortedCounters:[],sort:{column:'',order:'desc',active:true},query:'',filter:{less:false,lessQuery:'',greater:false,greaterQuery:''}},actions:{getCounters:function(){var _getCounters=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,counters;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"\".concat(apiEndpoint,\"s\"));case 2:response=_context.sent;counters=response.data;setStore({counters:counters});case 5:case\"end\":return _context.stop();}}},_callee);}));function getCounters(){return _getCounters.apply(this,arguments);}return getCounters;}(),handleNewCounter:function(){var _handleNewCounter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(title){var store,obj,_ref2,counter,counters;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(title.trim()!=='')){_context2.next=9;break;}store=getStore();obj={title:title};_context2.next=5;return Axios.post(apiEndpoint,obj);case 5:_ref2=_context2.sent;counter=_ref2.data;counters=store.sortedCounters.length?[].concat(_toConsumableArray(store.sortedCounters),[counter]):[].concat(_toConsumableArray(store.counters),[counter]);setStore({counters:counters});case 9:case\"end\":return _context2.stop();}}},_callee2);}));function handleNewCounter(_x){return _handleNewCounter.apply(this,arguments);}return handleNewCounter;}(),handleAddition:function(){var _handleAddition=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item){var store,sort,counters,index,obj,_ref3,counter;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:store=getStore();sort=store.sort;sort.active=false;counters=store.sortedCounters.length?_toConsumableArray(store.sortedCounters):_toConsumableArray(store.counters);index=counters.indexOf(item);obj={id:item.id};_context3.next=8;return Axios.post(\"\".concat(apiEndpoint,\"/inc\"),obj);case 8:_ref3=_context3.sent;counter=_ref3.data;counters[index]=_objectSpread({},counter);setStore({sort:sort,counters:counters});case 12:case\"end\":return _context3.stop();}}},_callee3);}));function handleAddition(_x2){return _handleAddition.apply(this,arguments);}return handleAddition;}(),handleSubstraction:function(){var _handleSubstraction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item){var store,sort,counters,index,obj,_ref4,counter;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:store=getStore();sort=store.sort;sort.active=false;counters=store.sortedCounters.length?_toConsumableArray(store.sortedCounters):_toConsumableArray(store.counters);index=counters.indexOf(item);obj={id:item.id};_context4.next=8;return Axios.post(\"\".concat(apiEndpoint,\"/dec\"),obj);case 8:_ref4=_context4.sent;counter=_ref4.data;counters[index]=_objectSpread({},counter);setStore({sort:sort,counters:counters});case 12:case\"end\":return _context4.stop();}}},_callee4);}));function handleSubstraction(_x3){return _handleSubstraction.apply(this,arguments);}return handleSubstraction;}(),handleDelete:function(){var _handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(item){var store,counters,obj;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:store=getStore();counters=store.sortedCounters.length?_toConsumableArray(store.sortedCounters):_toConsumableArray(store.counters);counters=(_readOnlyError(\"counters\"),counters.filter(function(c){return c!==item;}));setStore({counters:counters});obj={id:item.id};_context5.next=7;return Axios.delete(apiEndpoint,{data:obj});case 7:case\"end\":return _context5.stop();}}},_callee5);}));function handleDelete(_x4){return _handleDelete.apply(this,arguments);}return handleDelete;}(),handleSort:function handleSort(selectedColumn){var store=getStore();var sort=_objectSpread({},store.sort);var sortedCounters=store.sortedCounters.length?_toConsumableArray(store.sortedCounters):_toConsumableArray(store.counters);console.log('length:',store.sortedCounters.length,'sorted:',sortedCounters,'counters:',store.counters);/* if (sort.column === selectedColumn) {\n\t\t\t\t\tsort.order = sort.order === 'asc' ? 'desc' : 'asc';\n\t\t\t\t\tsort.active = true;\n\t\t\t\t} else {\n\t\t\t\t\tsort.column = selectedColumn;\n\t\t\t\t\tsort.order = 'asc';\n\t\t\t\t\tsort.active = true;\n\t\t\t\t}\n\n\t\t\t\tsortedCounters = sort.active\n\t\t\t\t\t? _.orderBy(sortedCounters, [ sort.column ], [ sort.order ])\n\t\t\t\t\t: sortedCounters;\n\n\t\t\t\tsetStore({ sort, sortedCounters }); */},handleSearch:function handleSearch(query){var store=getStore();var sortedCounters=store.sortedCounters.length?_toConsumableArray(store.sortedCounters):_toConsumableArray(store.counters);if(query.trim()!==''){sortedCounters=sortedCounters.filter(function(c){return c.title.toLowerCase().includes(query.toLowerCase());});setStore({query:query,sortedCounters:sortedCounters});}else{setStore({query:'',sortedCounters:sortedCounters});}},handleFilter:function handleFilter(type,queryType,number){var store=getStore();var sortedCounters=store.sortedCounters.length?_toConsumableArray(store.sortedCounters):_toConsumableArray(store.counters);var filter=_objectSpread({},store.filter);var query=parseInt(number);query=Number.isNaN(query)?'':query;if(query!==''){filter[type]=true;filter[queryType]=query;if(queryType==='less'){sortedCounters=sortedCounters.filter(function(i){return i.count<filter.lessQuery;});}else{sortedCounters=sortedCounters.filter(function(i){return i.count>filter.lessQuery;});}}else{filter[type]=false;filter[queryType]='';}setStore({filter:filter,sortedCounters:sortedCounters});},cleanFilter:function cleanFilter(type,queryType){var store=getStore();var filter=_objectSpread({},store.filter);filter[type]=false;filter[queryType]='';setStore({filter:filter});},cleanSearch:function cleanSearch(){var store=getStore();var filter=_objectSpread({},store.filter);if(filter.less){filter.less=false;filter.lessQuery='';}else if(filter.greater){filter.greater=false;filter.greaterQuery='';}setStore({query:'',filter:filter});}}};};export default getState;","map":{"version":3,"sources":["/Users/coni/Desktop/cornershop-test/client/src/store/flux.js"],"names":["Axios","_","apiEndpoint","getState","getStore","getActions","setStore","store","counters","sortedCounters","sort","column","order","active","query","filter","less","lessQuery","greater","greaterQuery","actions","getCounters","get","response","data","handleNewCounter","title","trim","obj","post","counter","length","handleAddition","item","index","indexOf","id","handleSubstraction","handleDelete","c","delete","handleSort","selectedColumn","console","log","handleSearch","toLowerCase","includes","handleFilter","type","queryType","number","parseInt","Number","isNaN","i","count","cleanFilter","cleanSearch"],"mappings":"o4CAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CAEA,GAAMC,CAAAA,WAAW,CAAG,iBAApB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAwC,IAArCC,CAAAA,QAAqC,MAArCA,QAAqC,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,QAAe,MAAfA,QAAe,CACxD,MAAO,CACNC,KAAK,CAAE,CACNC,QAAQ,CAAE,EADJ,CAENC,cAAc,CAAE,EAFV,CAGNC,IAAI,CAAE,CACLC,MAAM,CAAE,EADH,CAELC,KAAK,CAAE,MAFF,CAGLC,MAAM,CAAE,IAHH,CAHA,CAQNC,KAAK,CAAE,EARD,CASNC,MAAM,CAAE,CACPC,IAAI,CAAE,KADC,CAEPC,SAAS,CAAE,EAFJ,CAGPC,OAAO,CAAE,KAHF,CAIPC,YAAY,CAAE,EAJP,CATF,CADD,CAiBNC,OAAO,CAAE,CACRC,WAAW,qFAAE,+KACWrB,CAAAA,KAAK,CAACsB,GAAN,WAAapB,WAAb,MADX,QACNqB,QADM,eAENf,QAFM,CAEKe,QAAQ,CAACC,IAFd,CAGZlB,QAAQ,CAAC,CAAEE,QAAQ,CAARA,QAAF,CAAD,CAAR,CAHY,sDAAF,2FADH,CAMRiB,gBAAgB,0FAAE,kBAAOC,KAAP,gKACbA,KAAK,CAACC,IAAN,KAAiB,EADJ,2BAEVpB,KAFU,CAEFH,QAAQ,EAFN,CAIVwB,GAJU,CAIJ,CAAEF,KAAK,CAALA,KAAF,CAJI,wBAKgB1B,CAAAA,KAAK,CAAC6B,IAAN,CAAW3B,WAAX,CAAwB0B,GAAxB,CALhB,6BAKFE,OALE,OAKRN,IALQ,CAMVhB,QANU,CAMCD,KAAK,CAACE,cAAN,CAAqBsB,MAArB,8BACTxB,KAAK,CAACE,cADG,GACaqB,OADb,gCAETvB,KAAK,CAACC,QAFG,GAEOsB,OAFP,EAND,CAUhBxB,QAAQ,CAAC,CAAEE,QAAQ,CAARA,QAAF,CAAD,CAAR,CAVgB,wDAAF,4GANR,CAmBRwB,cAAc,wFAAE,kBAAOC,IAAP,sKACT1B,KADS,CACDH,QAAQ,EADP,CAETM,IAFS,CAEFH,KAAK,CAACG,IAFJ,CAGfA,IAAI,CAACG,MAAL,CAAc,KAAd,CAEML,QALS,CAKED,KAAK,CAACE,cAAN,CAAqBsB,MAArB,oBAAmCxB,KAAK,CAACE,cAAzC,qBAAiEF,KAAK,CAACC,QAAvE,CALF,CAMT0B,KANS,CAMD1B,QAAQ,CAAC2B,OAAT,CAAiBF,IAAjB,CANC,CAQTL,GARS,CAQH,CAAEQ,EAAE,CAAEH,IAAI,CAACG,EAAX,CARG,wBASiBpC,CAAAA,KAAK,CAAC6B,IAAN,WAAc3B,WAAd,SAAiC0B,GAAjC,CATjB,6BASDE,OATC,OASPN,IATO,CAUfhB,QAAQ,CAAC0B,KAAD,CAAR,kBAAuBJ,OAAvB,EAEAxB,QAAQ,CAAC,CAAEI,IAAI,CAAJA,IAAF,CAAQF,QAAQ,CAARA,QAAR,CAAD,CAAR,CAZe,yDAAF,uGAnBN,CAiCR6B,kBAAkB,4FAAE,kBAAOJ,IAAP,sKACb1B,KADa,CACLH,QAAQ,EADH,CAEbM,IAFa,CAENH,KAAK,CAACG,IAFA,CAGnBA,IAAI,CAACG,MAAL,CAAc,KAAd,CAEML,QALa,CAKFD,KAAK,CAACE,cAAN,CAAqBsB,MAArB,oBAAmCxB,KAAK,CAACE,cAAzC,qBAAiEF,KAAK,CAACC,QAAvE,CALE,CAMb0B,KANa,CAML1B,QAAQ,CAAC2B,OAAT,CAAiBF,IAAjB,CANK,CAQbL,GARa,CAQP,CAAEQ,EAAE,CAAEH,IAAI,CAACG,EAAX,CARO,wBASapC,CAAAA,KAAK,CAAC6B,IAAN,WAAc3B,WAAd,SAAiC0B,GAAjC,CATb,6BASLE,OATK,OASXN,IATW,CAUnBhB,QAAQ,CAAC0B,KAAD,CAAR,kBAAuBJ,OAAvB,EAEAxB,QAAQ,CAAC,CAAEI,IAAI,CAAJA,IAAF,CAAQF,QAAQ,CAARA,QAAR,CAAD,CAAR,CAZmB,yDAAF,mHAjCV,CA+CR8B,YAAY,sFAAE,kBAAOL,IAAP,6IACP1B,KADO,CACCH,QAAQ,EADT,CAEPI,QAFO,CAEID,KAAK,CAACE,cAAN,CAAqBsB,MAArB,oBAAmCxB,KAAK,CAACE,cAAzC,qBAAiEF,KAAK,CAACC,QAAvE,CAFJ,CAGbA,QAAQ,6BAAGA,QAAQ,CAACO,MAAT,CAAgB,SAACwB,CAAD,QAAOA,CAAAA,CAAC,GAAKN,IAAb,EAAhB,CAAH,CAAR,CACA3B,QAAQ,CAAC,CAAEE,QAAQ,CAARA,QAAF,CAAD,CAAR,CAEMoB,GANO,CAMD,CAAEQ,EAAE,CAAEH,IAAI,CAACG,EAAX,CANC,wBAOPpC,CAAAA,KAAK,CAACwC,MAAN,CAAatC,WAAb,CAA0B,CAAEsB,IAAI,CAAEI,GAAR,CAA1B,CAPO,yDAAF,iGA/CJ,CAwDRa,UAAU,CAAE,oBAACC,cAAD,CAAoB,CAC/B,GAAMnC,CAAAA,KAAK,CAAGH,QAAQ,EAAtB,CACA,GAAIM,CAAAA,IAAI,kBAAQH,KAAK,CAACG,IAAd,CAAR,CACA,GAAID,CAAAA,cAAc,CAAGF,KAAK,CAACE,cAAN,CAAqBsB,MAArB,oBAAmCxB,KAAK,CAACE,cAAzC,qBAAiEF,KAAK,CAACC,QAAvE,CAArB,CACAmC,OAAO,CAACC,GAAR,CACC,SADD,CAECrC,KAAK,CAACE,cAAN,CAAqBsB,MAFtB,CAGC,SAHD,CAICtB,cAJD,CAKC,WALD,CAMCF,KAAK,CAACC,QANP,EASA;;;;;;;;;;;;;0CAcA,CAnFO,CAoFRqC,YAAY,CAAE,sBAAC/B,KAAD,CAAW,CACxB,GAAMP,CAAAA,KAAK,CAAGH,QAAQ,EAAtB,CACA,GAAIK,CAAAA,cAAc,CAAGF,KAAK,CAACE,cAAN,CAAqBsB,MAArB,oBAAmCxB,KAAK,CAACE,cAAzC,qBAAiEF,KAAK,CAACC,QAAvE,CAArB,CAEA,GAAIM,KAAK,CAACa,IAAN,KAAiB,EAArB,CAAyB,CACxBlB,cAAc,CAAGA,cAAc,CAACM,MAAf,CAAsB,SAACwB,CAAD,QAAOA,CAAAA,CAAC,CAACb,KAAF,CAAQoB,WAAR,GAAsBC,QAAtB,CAA+BjC,KAAK,CAACgC,WAAN,EAA/B,CAAP,EAAtB,CAAjB,CACAxC,QAAQ,CAAC,CAAEQ,KAAK,CAALA,KAAF,CAASL,cAAc,CAAdA,cAAT,CAAD,CAAR,CACA,CAHD,IAGO,CACNH,QAAQ,CAAC,CAAEQ,KAAK,CAAE,EAAT,CAAaL,cAAc,CAAdA,cAAb,CAAD,CAAR,CACA,CACD,CA9FO,CA+FRuC,YAAY,CAAE,sBAACC,IAAD,CAAOC,SAAP,CAAkBC,MAAlB,CAA6B,CAC1C,GAAM5C,CAAAA,KAAK,CAAGH,QAAQ,EAAtB,CACA,GAAIK,CAAAA,cAAc,CAAGF,KAAK,CAACE,cAAN,CAAqBsB,MAArB,oBAAmCxB,KAAK,CAACE,cAAzC,qBAAiEF,KAAK,CAACC,QAAvE,CAArB,CAEA,GAAMO,CAAAA,MAAM,kBAAQR,KAAK,CAACQ,MAAd,CAAZ,CACA,GAAID,CAAAA,KAAK,CAAGsC,QAAQ,CAACD,MAAD,CAApB,CACArC,KAAK,CAAGuC,MAAM,CAACC,KAAP,CAAaxC,KAAb,EAAsB,EAAtB,CAA2BA,KAAnC,CAEA,GAAIA,KAAK,GAAK,EAAd,CAAkB,CACjBC,MAAM,CAACkC,IAAD,CAAN,CAAe,IAAf,CACAlC,MAAM,CAACmC,SAAD,CAAN,CAAoBpC,KAApB,CACA,GAAIoC,SAAS,GAAK,MAAlB,CAA0B,CACzBzC,cAAc,CAAGA,cAAc,CAACM,MAAf,CAAsB,SAACwC,CAAD,QAAOA,CAAAA,CAAC,CAACC,KAAF,CAAUzC,MAAM,CAACE,SAAxB,EAAtB,CAAjB,CACA,CAFD,IAEO,CACNR,cAAc,CAAGA,cAAc,CAACM,MAAf,CAAsB,SAACwC,CAAD,QAAOA,CAAAA,CAAC,CAACC,KAAF,CAAUzC,MAAM,CAACE,SAAxB,EAAtB,CAAjB,CACA,CACD,CARD,IAQO,CACNF,MAAM,CAACkC,IAAD,CAAN,CAAe,KAAf,CACAlC,MAAM,CAACmC,SAAD,CAAN,CAAoB,EAApB,CACA,CAED5C,QAAQ,CAAC,CAAES,MAAM,CAANA,MAAF,CAAUN,cAAc,CAAdA,cAAV,CAAD,CAAR,CACA,CArHO,CAsHRgD,WAAW,CAAE,qBAACR,IAAD,CAAOC,SAAP,CAAqB,CACjC,GAAM3C,CAAAA,KAAK,CAAGH,QAAQ,EAAtB,CACA,GAAIW,CAAAA,MAAM,kBAAQR,KAAK,CAACQ,MAAd,CAAV,CACAA,MAAM,CAACkC,IAAD,CAAN,CAAe,KAAf,CACAlC,MAAM,CAACmC,SAAD,CAAN,CAAoB,EAApB,CACA5C,QAAQ,CAAC,CAAES,MAAM,CAANA,MAAF,CAAD,CAAR,CACA,CA5HO,CA6HR2C,WAAW,CAAE,sBAAM,CAClB,GAAMnD,CAAAA,KAAK,CAAGH,QAAQ,EAAtB,CACA,GAAIW,CAAAA,MAAM,kBAAQR,KAAK,CAACQ,MAAd,CAAV,CAEA,GAAIA,MAAM,CAACC,IAAX,CAAiB,CAChBD,MAAM,CAACC,IAAP,CAAc,KAAd,CACAD,MAAM,CAACE,SAAP,CAAmB,EAAnB,CACA,CAHD,IAGO,IAAIF,MAAM,CAACG,OAAX,CAAoB,CAC1BH,MAAM,CAACG,OAAP,CAAiB,KAAjB,CACAH,MAAM,CAACI,YAAP,CAAsB,EAAtB,CACA,CAEDb,QAAQ,CAAC,CAAEQ,KAAK,CAAE,EAAT,CAAaC,MAAM,CAANA,MAAb,CAAD,CAAR,CACA,CA1IO,CAjBH,CAAP,CA8JA,CA/JD,CAiKA,cAAeZ,CAAAA,QAAf","sourcesContent":["import Axios from 'axios';\nimport _ from 'lodash';\n\nconst apiEndpoint = '/api/v1/counter';\n\nconst getState = ({ getStore, getActions, setStore }) => {\n\treturn {\n\t\tstore: {\n\t\t\tcounters: [],\n\t\t\tsortedCounters: [],\n\t\t\tsort: {\n\t\t\t\tcolumn: '',\n\t\t\t\torder: 'desc',\n\t\t\t\tactive: true\n\t\t\t},\n\t\t\tquery: '',\n\t\t\tfilter: {\n\t\t\t\tless: false,\n\t\t\t\tlessQuery: '',\n\t\t\t\tgreater: false,\n\t\t\t\tgreaterQuery: ''\n\t\t\t}\n\t\t},\n\t\tactions: {\n\t\t\tgetCounters: async () => {\n\t\t\t\tconst response = await Axios.get(`${apiEndpoint}s`);\n\t\t\t\tconst counters = response.data;\n\t\t\t\tsetStore({ counters });\n\t\t\t},\n\t\t\thandleNewCounter: async (title) => {\n\t\t\t\tif (title.trim() !== '') {\n\t\t\t\t\tconst store = getStore();\n\n\t\t\t\t\tconst obj = { title };\n\t\t\t\t\tconst { data: counter } = await Axios.post(apiEndpoint, obj);\n\t\t\t\t\tconst counters = store.sortedCounters.length\n\t\t\t\t\t\t? [ ...store.sortedCounters, counter ]\n\t\t\t\t\t\t: [ ...store.counters, counter ];\n\n\t\t\t\t\tsetStore({ counters });\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleAddition: async (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst sort = store.sort;\n\t\t\t\tsort.active = false;\n\n\t\t\t\tconst counters = store.sortedCounters.length ? [ ...store.sortedCounters ] : [ ...store.counters ];\n\t\t\t\tconst index = counters.indexOf(item);\n\n\t\t\t\tconst obj = { id: item.id };\n\t\t\t\tconst { data: counter } = await Axios.post(`${apiEndpoint}/inc`, obj);\n\t\t\t\tcounters[index] = { ...counter };\n\n\t\t\t\tsetStore({ sort, counters });\n\t\t\t},\n\t\t\thandleSubstraction: async (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst sort = store.sort;\n\t\t\t\tsort.active = false;\n\n\t\t\t\tconst counters = store.sortedCounters.length ? [ ...store.sortedCounters ] : [ ...store.counters ];\n\t\t\t\tconst index = counters.indexOf(item);\n\n\t\t\t\tconst obj = { id: item.id };\n\t\t\t\tconst { data: counter } = await Axios.post(`${apiEndpoint}/dec`, obj);\n\t\t\t\tcounters[index] = { ...counter };\n\n\t\t\t\tsetStore({ sort, counters });\n\t\t\t},\n\t\t\thandleDelete: async (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst counters = store.sortedCounters.length ? [ ...store.sortedCounters ] : [ ...store.counters ];\n\t\t\t\tcounters = counters.filter((c) => c !== item);\n\t\t\t\tsetStore({ counters });\n\n\t\t\t\tconst obj = { id: item.id };\n\t\t\t\tawait Axios.delete(apiEndpoint, { data: obj });\n\t\t\t},\n\t\t\thandleSort: (selectedColumn) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet sort = { ...store.sort };\n\t\t\t\tlet sortedCounters = store.sortedCounters.length ? [ ...store.sortedCounters ] : [ ...store.counters ];\n\t\t\t\tconsole.log(\n\t\t\t\t\t'length:',\n\t\t\t\t\tstore.sortedCounters.length,\n\t\t\t\t\t'sorted:',\n\t\t\t\t\tsortedCounters,\n\t\t\t\t\t'counters:',\n\t\t\t\t\tstore.counters\n\t\t\t\t);\n\n\t\t\t\t/* if (sort.column === selectedColumn) {\n\t\t\t\t\tsort.order = sort.order === 'asc' ? 'desc' : 'asc';\n\t\t\t\t\tsort.active = true;\n\t\t\t\t} else {\n\t\t\t\t\tsort.column = selectedColumn;\n\t\t\t\t\tsort.order = 'asc';\n\t\t\t\t\tsort.active = true;\n\t\t\t\t}\n\n\t\t\t\tsortedCounters = sort.active\n\t\t\t\t\t? _.orderBy(sortedCounters, [ sort.column ], [ sort.order ])\n\t\t\t\t\t: sortedCounters;\n\n\t\t\t\tsetStore({ sort, sortedCounters }); */\n\t\t\t},\n\t\t\thandleSearch: (query) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet sortedCounters = store.sortedCounters.length ? [ ...store.sortedCounters ] : [ ...store.counters ];\n\n\t\t\t\tif (query.trim() !== '') {\n\t\t\t\t\tsortedCounters = sortedCounters.filter((c) => c.title.toLowerCase().includes(query.toLowerCase()));\n\t\t\t\t\tsetStore({ query, sortedCounters });\n\t\t\t\t} else {\n\t\t\t\t\tsetStore({ query: '', sortedCounters });\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleFilter: (type, queryType, number) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet sortedCounters = store.sortedCounters.length ? [ ...store.sortedCounters ] : [ ...store.counters ];\n\n\t\t\t\tconst filter = { ...store.filter };\n\t\t\t\tlet query = parseInt(number);\n\t\t\t\tquery = Number.isNaN(query) ? '' : query;\n\n\t\t\t\tif (query !== '') {\n\t\t\t\t\tfilter[type] = true;\n\t\t\t\t\tfilter[queryType] = query;\n\t\t\t\t\tif (queryType === 'less') {\n\t\t\t\t\t\tsortedCounters = sortedCounters.filter((i) => i.count < filter.lessQuery);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsortedCounters = sortedCounters.filter((i) => i.count > filter.lessQuery);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfilter[type] = false;\n\t\t\t\t\tfilter[queryType] = '';\n\t\t\t\t}\n\n\t\t\t\tsetStore({ filter, sortedCounters });\n\t\t\t},\n\t\t\tcleanFilter: (type, queryType) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet filter = { ...store.filter };\n\t\t\t\tfilter[type] = false;\n\t\t\t\tfilter[queryType] = '';\n\t\t\t\tsetStore({ filter });\n\t\t\t},\n\t\t\tcleanSearch: () => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet filter = { ...store.filter };\n\n\t\t\t\tif (filter.less) {\n\t\t\t\t\tfilter.less = false;\n\t\t\t\t\tfilter.lessQuery = '';\n\t\t\t\t} else if (filter.greater) {\n\t\t\t\t\tfilter.greater = false;\n\t\t\t\t\tfilter.greaterQuery = '';\n\t\t\t\t}\n\n\t\t\t\tsetStore({ query: '', filter });\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default getState;\n"]},"metadata":{},"sourceType":"module"}