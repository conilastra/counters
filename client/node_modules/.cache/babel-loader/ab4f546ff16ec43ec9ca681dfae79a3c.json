{"ast":null,"code":"import _defineProperty from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getState=function getState(_ref){var getStore=_ref.getStore,getActions=_ref.getActions,setStore=_ref.setStore;return{store:{counters:[{name:'Dogs',count:0},{name:'Cats',count:0},{name:'Owls',count:0}],sort:{column:'',order:'',active:false},query:'',filter:{type:'',number:''}},actions:{handleNewCounter:function handleNewCounter(name){if(name.trim()!==''){var store=getStore();var newCounter={name:name,count:0};var counters=[].concat(_toConsumableArray(store.counters),[newCounter]);setStore({counters:counters});}},handleAddition:function handleAddition(item){var store=getStore();var counters=_toConsumableArray(store.counters);var index=counters.indexOf(item);counters[index]=_objectSpread({},item);counters[index].count+=1;setStore({counters:counters});},handleSubstraction:function handleSubstraction(item){var store=getStore();var counters=_toConsumableArray(store.counters);var index=counters.indexOf(item);counters[index]=_objectSpread({},item);counters[index].count-=1;setStore({counters:counters});},handleDelete:function handleDelete(item){var store=getStore();var counters=_toConsumableArray(store.counters);counters=counters.filter(function(c){return c!==item;});console.log(counters);setStore({counters:counters});},handleSort:function handleSort(selectedColumn){var store=getStore();var sort=_objectSpread({},store.sort);if(sort.column===selectedColumn){sort.order=sort.order==='asc'?'desc':'asc';sort.active=true;}else{sort.column=selectedColumn;sort.order='asc';sort.active=false;}setStore({sort:sort});},handleSearch:function handleSearch(query){if(query.trim()!==''){setStore({query:query});}else{setStore({query:''});}},handleFilter:function handleFilter(type,amount){var number;if(amount!==''){number=parseInt(amount);}else{number='';}setStore({filter:{type:type,number:number}});}}};};export default getState;","map":{"version":3,"sources":["/Users/coni/Desktop/cornershop-test/client/src/store/flux.js"],"names":["getState","getStore","getActions","setStore","store","counters","name","count","sort","column","order","active","query","filter","type","number","actions","handleNewCounter","trim","newCounter","handleAddition","item","index","indexOf","handleSubstraction","handleDelete","c","console","log","handleSort","selectedColumn","handleSearch","handleFilter","amount","parseInt"],"mappings":"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","sourcesContent":["const getState = ({ getStore, getActions, setStore }) => {\n\treturn {\n\t\tstore: {\n\t\t\tcounters: [ { name: 'Dogs', count: 0 }, { name: 'Cats', count: 0 }, { name: 'Owls', count: 0 } ],\n\t\t\tsort: {\n\t\t\t\tcolumn: '',\n\t\t\t\torder: '',\n\t\t\t\tactive: false\n\t\t\t},\n\t\t\tquery: '',\n\t\t\tfilter: {\n\t\t\t\ttype: '',\n\t\t\t\tnumber: ''\n\t\t\t}\n\t\t},\n\t\tactions: {\n\t\t\thandleNewCounter: (name) => {\n\t\t\t\tif (name.trim() !== '') {\n\t\t\t\t\tconst store = getStore();\n\t\t\t\t\tconst newCounter = {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tcount: 0\n\t\t\t\t\t};\n\t\t\t\t\tconst counters = [ ...store.counters, newCounter ];\n\t\t\t\t\tsetStore({ counters });\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleAddition: (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst counters = [ ...store.counters ];\n\t\t\t\tconst index = counters.indexOf(item);\n\t\t\t\tcounters[index] = { ...item };\n\t\t\t\tcounters[index].count += 1;\n\n\t\t\t\tsetStore({ counters });\n\t\t\t},\n\t\t\thandleSubstraction: (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst counters = [ ...store.counters ];\n\t\t\t\tconst index = counters.indexOf(item);\n\t\t\t\tcounters[index] = { ...item };\n\t\t\t\tcounters[index].count -= 1;\n\n\t\t\t\tsetStore({ counters });\n\t\t\t},\n\t\t\thandleDelete: (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet counters = [ ...store.counters ];\n\t\t\t\tcounters = counters.filter((c) => c !== item);\n\t\t\t\tconsole.log(counters);\n\t\t\t\tsetStore({ counters });\n\t\t\t},\n\t\t\thandleSort: (selectedColumn) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet sort = { ...store.sort };\n\n\t\t\t\tif (sort.column === selectedColumn) {\n\t\t\t\t\tsort.order = sort.order === 'asc' ? 'desc' : 'asc';\n\t\t\t\t\tsort.active = true;\n\t\t\t\t} else {\n\t\t\t\t\tsort.column = selectedColumn;\n\t\t\t\t\tsort.order = 'asc';\n\t\t\t\t\tsort.active = false;\n\t\t\t\t}\n\n\t\t\t\tsetStore({ sort });\n\t\t\t},\n\t\t\thandleSearch: (query) => {\n\t\t\t\tif (query.trim() !== '') {\n\t\t\t\t\tsetStore({ query });\n\t\t\t\t} else {\n\t\t\t\t\tsetStore({ query: '' });\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleFilter: (type, amount) => {\n\t\t\t\tlet number;\n\t\t\t\tif (amount !== '') {\n\t\t\t\t\tnumber = parseInt(amount);\n\t\t\t\t} else {\n\t\t\t\t\tnumber = '';\n\t\t\t\t}\n\t\t\t\tsetStore({ filter: { type, number } });\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default getState;\n"]},"metadata":{},"sourceType":"module"}