{"ast":null,"code":"import _regeneratorRuntime from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useEffect}from'react';import getState from'./flux.js';import axios from'axios';var _React$createContext=React.createContext(null),Consumer=_React$createContext.Consumer,Provider=_React$createContext.Provider;export{Consumer,Provider};var injectContext=function injectContext(PassedComponent){var StoreWrapper=function StoreWrapper(props){var _useState=useState(getState({getStore:function getStore(){return state.store;},getActions:function getActions(){return state.actions;},setStore:function setStore(updatedStore){return setState({store:Object.assign(state.store,updatedStore),actions:_objectSpread({},state.actions)});}})),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){var load=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/v1/counters');case 2:response=_context.sent;console.log(response);case 4:case\"end\":return _context.stop();}}},_callee);}));return function load(){return _ref.apply(this,arguments);};}();load();},[]);return React.createElement(Provider,{value:state},React.createElement(PassedComponent,props));};return StoreWrapper;};export default injectContext;","map":{"version":3,"sources":["/Users/coni/Desktop/cornershop-test/client/src/store/appContext.js"],"names":["React","useState","useEffect","getState","axios","createContext","Consumer","Provider","injectContext","PassedComponent","StoreWrapper","props","getStore","state","store","getActions","actions","setStore","updatedStore","setState","Object","assign","load","get","response","console","log"],"mappings":"+vCAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,yBAEsCJ,KAAK,CAACK,aAAN,CAAoB,IAApB,C,CAAvBC,Q,sBAAAA,Q,CAAUC,Q,sBAAAA,Q,2BAEzB,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,eAAD,CAAqB,CAC1C,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,eACHV,QAAQ,CACnCE,QAAQ,CAAC,CACRS,QAAQ,CAAE,0BAAMC,CAAAA,KAAK,CAACC,KAAZ,EADF,CAERC,UAAU,CAAE,4BAAMF,CAAAA,KAAK,CAACG,OAAZ,EAFJ,CAGRC,QAAQ,CAAE,kBAACC,YAAD,QACTC,CAAAA,QAAQ,CAAC,CACRL,KAAK,CAAEM,MAAM,CAACC,MAAP,CAAcR,KAAK,CAACC,KAApB,CAA2BI,YAA3B,CADC,CAERF,OAAO,kBAAOH,KAAK,CAACG,OAAb,CAFC,CAAD,CADC,EAHF,CAAD,CAD2B,CADL,wCACvBH,KADuB,eAChBM,QADgB,eAa/BjB,SAAS,CAAC,UAAM,CACf,GAAMoB,CAAAA,IAAI,0FAAG,sKACWlB,CAAAA,KAAK,CAACmB,GAAN,CAAU,kBAAV,CADX,QACNC,QADM,eAEZC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAFY,sDAAH,kBAAJF,CAAAA,IAAI,0CAAV,CAIAA,IAAI,GACJ,CANQ,CAMN,EANM,CAAT,CAQA,MACC,qBAAC,QAAD,EAAU,KAAK,CAAET,KAAjB,EACC,oBAAC,eAAD,CAAqBF,KAArB,CADD,CADD,CAKA,CA1BD,CA2BA,MAAOD,CAAAA,YAAP,CACA,CA7BD,CA+BA,cAAeF,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport getState from './flux.js';\nimport axios from 'axios';\n\nexport const { Consumer, Provider } = React.createContext(null);\n\nconst injectContext = (PassedComponent) => {\n\tconst StoreWrapper = (props) => {\n\t\tconst [ state, setState ] = useState(\n\t\t\tgetState({\n\t\t\t\tgetStore: () => state.store,\n\t\t\t\tgetActions: () => state.actions,\n\t\t\t\tsetStore: (updatedStore) =>\n\t\t\t\t\tsetState({\n\t\t\t\t\t\tstore: Object.assign(state.store, updatedStore),\n\t\t\t\t\t\tactions: { ...state.actions }\n\t\t\t\t\t})\n\t\t\t})\n\t\t);\n\n\t\tuseEffect(() => {\n\t\t\tconst load = async () => {\n\t\t\t\tconst response = await axios.get('/api/v1/counters');\n\t\t\t\tconsole.log(response);\n\t\t\t};\n\t\t\tload();\n\t\t}, []);\n\n\t\treturn (\n\t\t\t<Provider value={state}>\n\t\t\t\t<PassedComponent {...props} />\n\t\t\t</Provider>\n\t\t);\n\t};\n\treturn StoreWrapper;\n};\n\nexport default injectContext;\n"]},"metadata":{},"sourceType":"module"}