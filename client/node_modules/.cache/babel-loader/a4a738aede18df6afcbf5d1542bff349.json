{"ast":null,"code":"var _jsxFileName = \"/Users/coni/Desktop/cornershop-test/client/src/components/app.jsx\";\nimport React, { useEffect } from 'react';\nimport './app.css';\nimport injectContext, { Consumer } from '../store/appContext';\nimport CounterHolder from './counterHolder/counterHolder';\nimport TotalCount from './totalCount/totalCount';\nimport CounterGenerator from './counterGenerator/counterGenerator';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport Searchbox from './searchbox/searchbox';\nimport Filters from './filters/filters';\n\nconst App = () => {\n  let localActions = null;\n  useEffect(() => {\n    const loadAPI = async () => {\n      const response = await axios.get('/api/v1/counters');\n      console.log(response);\n\n      if (localActions !== null) {\n        console.log(response);\n      }\n    };\n\n    loadAPI();\n  }, []);\n  return React.createElement(Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, ({\n    store,\n    actions\n  }) => {\n    const counters = store.counters,\n          sort = store.sort,\n          query = store.query,\n          filter = store.filter;\n    localActions = actions;\n    let total = '';\n    let sorted = '';\n\n    if (counters.length) {\n      total = counters.map(c => c.count).reduce((acc, val) => acc + val);\n      const items = query !== '' ? counters.filter(c => c.name.toLowerCase().includes(query.toLowerCase())) : counters;\n      const filtered = filter.number !== '' ? filter.type === 'less' ? items.filter(i => i.count < filter.number) : items.filter(i => i.count > filter.number) : items;\n      sorted = sort.active ? _.orderBy(filtered, [sort.column], [sort.order]) : filtered;\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(Searchbox, {\n      onSearch: actions.handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(TotalCount, {\n      total: total ? total : 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, counters.length ? React.createElement(React.Fragment, null, React.createElement(Filters, {\n      actions: actions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(CounterHolder, {\n      items: sorted,\n      actions: actions,\n      sort: sort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })) : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"You don't have any counters yet\"), React.createElement(CounterGenerator, {\n      onNewCounter: actions.handleNewCounter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })));\n  });\n};\n\nexport default injectContext(App);","map":{"version":3,"sources":["/Users/coni/Desktop/cornershop-test/client/src/components/app.jsx"],"names":["React","useEffect","injectContext","Consumer","CounterHolder","TotalCount","CounterGenerator","_","axios","Searchbox","Filters","App","localActions","loadAPI","response","get","console","log","store","actions","counters","sort","query","filter","total","sorted","length","map","c","count","reduce","acc","val","items","name","toLowerCase","includes","filtered","number","type","i","active","orderBy","column","order","handleSearch","handleNewCounter"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,WAAP;AACA,OAAOC,aAAP,IAAwBC,QAAxB,QAAwC,qBAAxC;AACA,OAAOC,aAAP,MAA0B,+BAA1B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,gBAAP,MAA6B,qCAA7B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,OAAP,MAAoB,mBAApB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AACjB,MAAIC,YAAY,GAAG,IAAnB;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMY,OAAO,GAAG,YAAY;AAC3B,YAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,kBAAV,CAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,UAAIF,YAAY,KAAK,IAArB,EAA2B;AAC1BI,QAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA;AACD,KAND;;AAOAD,IAAAA,OAAO;AAEP,GAVQ,EAUN,EAVM,CAAT;AAcA,SACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,CAAC;AAAEK,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAD,KAAwB;AAAA,UAChBC,QADgB,GACkBF,KADlB,CAChBE,QADgB;AAAA,UACNC,IADM,GACkBH,KADlB,CACNG,IADM;AAAA,UACAC,KADA,GACkBJ,KADlB,CACAI,KADA;AAAA,UACOC,MADP,GACkBL,KADlB,CACOK,MADP;AAExBX,IAAAA,YAAY,GAAGO,OAAf;AACA,QAAIK,KAAK,GAAG,EAAZ;AACA,QAAIC,MAAM,GAAG,EAAb;;AAEA,QAAIL,QAAQ,CAACM,MAAb,EAAoB;AACnBF,MAAAA,KAAK,GAAGJ,QAAQ,CAACO,GAAT,CAAaC,CAAC,IAAIA,CAAC,CAACC,KAApB,EAA2BC,MAA3B,CAAkC,CAACC,GAAD,EAAMC,GAAN,KAAcD,GAAG,GAAGC,GAAtD,CAAR;AACA,YAAMC,KAAK,GAAGX,KAAK,KAAK,EAAV,GAAeF,QAAQ,CAACG,MAAT,CAAgBK,CAAC,IAAIA,CAAC,CAACM,IAAF,CAAOC,WAAP,GAAqBC,QAArB,CAA8Bd,KAAK,CAACa,WAAN,EAA9B,CAArB,CAAf,GAA0Ff,QAAxG;AACA,YAAMiB,QAAQ,GAAGd,MAAM,CAACe,MAAP,KAAkB,EAAlB,GAAwBf,MAAM,CAACgB,IAAP,KAAgB,MAAhB,GAAyBN,KAAK,CAACV,MAAN,CAAaiB,CAAC,IAAIA,CAAC,CAACX,KAAF,GAAUN,MAAM,CAACe,MAAnC,CAAzB,GAAsEL,KAAK,CAACV,MAAN,CAAaiB,CAAC,IAAIA,CAAC,CAACX,KAAF,GAAUN,MAAM,CAACe,MAAnC,CAA9F,GAA4IL,KAA7J;AACAR,MAAAA,MAAM,GAAGJ,IAAI,CAACoB,MAAL,GAAclC,CAAC,CAACmC,OAAF,CAAUL,QAAV,EAAoB,CAAChB,IAAI,CAACsB,MAAN,CAApB,EAAmC,CAACtB,IAAI,CAACuB,KAAN,CAAnC,CAAd,GAAiEP,QAA1E;AACA;;AAED,WACA,0CACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAElB,OAAO,CAAC0B,YAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAErB,KAAK,GAAGA,KAAH,GAAW,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADD,EAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCJ,QAAQ,CAACM,MAAT,GACD,0CACC,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAEP,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAEM,MAAtB;AAA8B,MAAA,OAAO,EAAEN,OAAvC;AAAgD,MAAA,IAAI,EAAEE,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADC,GAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCALL,EAMC,oBAAC,gBAAD;AAAkB,MAAA,YAAY,EAAEF,OAAO,CAAC2B,gBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAND,CAPD,CADA;AAkBA,GAhCF,CADD;AAoCA,CArDD;;AAuDA,eAAe5C,aAAa,CAACS,GAAD,CAA5B","sourcesContent":["import React, {useEffect} from 'react';\nimport './app.css';\nimport injectContext, { Consumer } from '../store/appContext';\nimport CounterHolder from './counterHolder/counterHolder';\nimport TotalCount from './totalCount/totalCount';\nimport CounterGenerator from './counterGenerator/counterGenerator';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport Searchbox from './searchbox/searchbox';\nimport Filters from './filters/filters';\n\nconst App = () => {\n\tlet localActions = null;\n\n\tuseEffect(() => {\n\t\tconst loadAPI = async () => {\n\t\t\tconst response = await axios.get('/api/v1/counters');\n\t\t\tconsole.log(response);\n\t\t\tif (localActions !== null) {\n\t\t\t\tconsole.log(response);\n\t\t\t}\n\t\t};\n\t\tloadAPI();\n\t\t\n\t}, []);\n\n\n\n\treturn (\n\t\t<Consumer>\n\t\t\t{({ store, actions }) => {\n\t\t\t\tconst { counters, sort, query, filter } = store;\n\t\t\t\tlocalActions = actions;\n\t\t\t\tlet total = '';\n\t\t\t\tlet sorted = '';\n\t\t\t\t\n\t\t\t\tif (counters.length){\n\t\t\t\t\ttotal = counters.map(c => c.count).reduce((acc, val) => acc + val);\n\t\t\t\t\tconst items = query !== '' ? counters.filter(c => c.name.toLowerCase().includes(query.toLowerCase())) : counters;\n\t\t\t\t\tconst filtered = filter.number !== '' ? (filter.type === 'less' ? items.filter(i => i.count < filter.number) : items.filter(i => i.count > filter.number)) : items;\n\t\t\t\t\tsorted = sort.active ? _.orderBy(filtered, [sort.column], [sort.order]) : filtered;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<Searchbox onSearch={actions.handleSearch}/>\n\t\t\t\t\t\t<TotalCount total={total ? total : 0} />\n\t\t\t\t\t</header>\n\n\t\t\t\t\t\n\t\t\t\t\t<main>\n\t\t\t\t\t{counters.length ? \n\t\t\t\t\t<>\n\t\t\t\t\t\t<Filters actions={actions} />\n\t\t\t\t\t\t<CounterHolder items={sorted} actions={actions} sort={sort} />\n\t\t\t\t\t</>: <h1>You don't have any counters yet</h1>}\n\t\t\t\t\t\t<CounterGenerator onNewCounter={actions.handleNewCounter} /> \n\t\t\t\t\t</main>\t\n\t\t\t\t\t\n\t\t\t\t</>)\n\t\t\t}}\n\t\t</Consumer>\n\t);\n};\n\nexport default injectContext(App);\n"]},"metadata":{},"sourceType":"module"}