{"ast":null,"code":"import _defineProperty from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/coni/Desktop/cornershop-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import Axios from'axios';import _ from'lodash';import{store}from'react-notifications-component';import'react-notifications-component/dist/theme.css';import'animate.css';var notifications=store;var apiEndpoint='/api/v1/counter';var getState=function getState(_ref){var getStore=_ref.getStore,getActions=_ref.getActions,setStore=_ref.setStore;return{store:{counters:[],filter:{less:false,lessQuery:'',greater:false,greaterQuery:''},item:{name:'',type:''},sort:{column:'',order:'desc',active:true},query:''},actions:{getCounters:function(){var _getCounters=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,counters;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"\".concat(apiEndpoint,\"s\"));case 2:response=_context.sent;counters=response.data;setStore({counters:counters});case 5:case\"end\":return _context.stop();}}},_callee);}));function getCounters(){return _getCounters.apply(this,arguments);}return getCounters;}(),handleNewCounter:function(){var _handleNewCounter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(title){var _store,actions,obj,_ref2,counter,counters,filter,query;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(title.trim()!=='')){_context2.next=15;break;}_store=getStore();actions=getActions();_context2.next=5;return actions.getCounters();case 5:obj={title:title};_context2.next=8;return Axios.post(apiEndpoint,obj);case 8:_ref2=_context2.sent;counter=_ref2.data;counters=[].concat(_toConsumableArray(_store.counters),[counter]);filter={lessQuery:'',greaterQuery:''};query='';notifications.addNotification({title:'Yay!',message:\"\".concat(counter.title,\" was successfully added\"),type:'success',container:'top-center',animationIn:['animated','fadeIn'],animationOut:['animated','fadeOut'],dismiss:{duration:3000}});setStore({counters:counters,filter:filter,query:query});case 15:case\"end\":return _context2.stop();}}},_callee2);}));function handleNewCounter(_x){return _handleNewCounter.apply(this,arguments);}return handleNewCounter;}(),handleAddition:function(){var _handleAddition=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item){var store,sort,counters,index,obj,_ref3,counter;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:store=getStore();sort=store.sort;sort.active=false;_context3.next=5;return setStore({sort:sort});case 5:counters=_toConsumableArray(store.counters);index=counters.indexOf(item);obj={id:item.id};_context3.next=10;return Axios.post(\"\".concat(apiEndpoint,\"/inc\"),obj);case 10:_ref3=_context3.sent;counter=_ref3.data;counters[index]=_objectSpread({},counter);setStore({counters:counters});case 14:case\"end\":return _context3.stop();}}},_callee3);}));function handleAddition(_x2){return _handleAddition.apply(this,arguments);}return handleAddition;}(),handleSubstraction:function(){var _handleSubstraction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item){var store,sort,counters,index,obj,_ref4,counter;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:store=getStore();sort=store.sort;sort.active=false;_context4.next=5;return setStore({sort:sort});case 5:counters=_toConsumableArray(store.counters);index=counters.indexOf(item);obj={id:item.id};_context4.next=10;return Axios.post(\"\".concat(apiEndpoint,\"/dec\"),obj);case 10:_ref4=_context4.sent;counter=_ref4.data;counters[index]=_objectSpread({},counter);setStore({counters:counters});case 14:case\"end\":return _context4.stop();}}},_callee4);}));function handleSubstraction(_x3){return _handleSubstraction.apply(this,arguments);}return handleSubstraction;}(),handleDelete:function(){var _handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(item){var store,actions,counters,obj;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:store=getStore();actions=getActions();counters=_toConsumableArray(store.counters);counters=counters.filter(function(c){return c!==item;});if(counters.length){setStore({counters:counters});}else{actions.cleanSearch();}obj={id:item.id};_context5.next=8;return Axios.delete(apiEndpoint,{data:obj});case 8:case\"end\":return _context5.stop();}}},_callee5);}));function handleDelete(_x4){return _handleDelete.apply(this,arguments);}return handleDelete;}(),handleSort:function handleSort(selectedColumn){var store=getStore();var sort=_objectSpread({},store.sort);var sortedCounters=_toConsumableArray(store.counters);if(sort.column===selectedColumn){sort.order=sort.order==='asc'?'desc':'asc';sort.active=true;}else{sort.column=selectedColumn;sort.order='asc';sort.active=true;}sortedCounters=sort.active?_.orderBy(sortedCounters,[sort.column],[sort.order]):sortedCounters;setStore({sort:sort,counters:sortedCounters});},handleSearch:function handleSearch(query){var store=getStore();var actions=getActions();var allCounters=_toConsumableArray(store.counters);if(query.trim()!==''){var counters=store.counters.filter(function(c){return c.title.toLowerCase().includes(query.toLowerCase());});setStore({query:query,counters:counters,allCounters:allCounters});}else{actions.getCounters();setStore({query:''});}},handleFilter:function handleFilter(type,queryType,number){var store=getStore();var actions=getActions();var allCounters=_toConsumableArray(store.counters);var filter=_objectSpread({},store.filter);var query=parseInt(number);query=Number.isNaN(query)?'':query;if(query!==''){filter[type]=true;filter[queryType]=query;var counters=_toConsumableArray(store.counters);if(type==='less'){counters=counters.filter(function(i){return i.count<filter.lessQuery;});}else{counters=counters.filter(function(i){return i.count>filter.greaterQuery;});}setStore({filter:filter,counters:counters,allCounters:allCounters});}else{filter[type]=false;filter.lessQuery='';filter.greaterQuery='';actions.getCounters();setStore({filter:filter});}},cleanFilter:function cleanFilter(type,queryType){var store=getStore();var filter=_objectSpread({},store.filter);filter[type]=false;filter[queryType]='';setStore({filter:filter});},cleanSearch:function cleanSearch(){var store=getStore();var actions=getActions();var filter=_objectSpread({},store.filter);filter.less=false;filter.lessQuery='';filter.greater=false;filter.greaterQuery='';actions.getCounters();setStore({query:'',filter:filter});}}};};export default getState;","map":{"version":3,"sources":["/Users/coni/Desktop/cornershop-test/client/src/store/flux.js"],"names":["Axios","_","store","notifications","apiEndpoint","getState","getStore","getActions","setStore","counters","filter","less","lessQuery","greater","greaterQuery","item","name","type","sort","column","order","active","query","actions","getCounters","get","response","data","handleNewCounter","title","trim","obj","post","counter","addNotification","message","container","animationIn","animationOut","dismiss","duration","handleAddition","index","indexOf","id","handleSubstraction","handleDelete","c","length","cleanSearch","delete","handleSort","selectedColumn","sortedCounters","orderBy","handleSearch","allCounters","toLowerCase","includes","handleFilter","queryType","number","parseInt","Number","isNaN","i","count","cleanFilter"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport _ from 'lodash';\nimport { store } from 'react-notifications-component';\nimport 'react-notifications-component/dist/theme.css';\nimport 'animate.css';\n\nconst notifications = store;\n\nconst apiEndpoint = '/api/v1/counter';\n\nconst getState = ({ getStore, getActions, setStore }) => {\n\treturn {\n\t\tstore: {\n\t\t\tcounters: [],\n\t\t\tfilter: {\n\t\t\t\tless: false,\n\t\t\t\tlessQuery: '',\n\t\t\t\tgreater: false,\n\t\t\t\tgreaterQuery: ''\n\t\t\t},\n\t\t\titem: {\n\t\t\t\tname: '',\n\t\t\t\ttype: ''\n\t\t\t},\n\t\t\tsort: {\n\t\t\t\tcolumn: '',\n\t\t\t\torder: 'desc',\n\t\t\t\tactive: true\n\t\t\t},\n\t\t\tquery: ''\n\t\t},\n\t\tactions: {\n\t\t\tgetCounters: async () => {\n\t\t\t\tconst response = await Axios.get(`${apiEndpoint}s`);\n\t\t\t\tconst counters = response.data;\n\t\t\t\tsetStore({ counters });\n\t\t\t},\n\t\t\thandleNewCounter: async (title) => {\n\t\t\t\tif (title.trim() !== '') {\n\t\t\t\t\tconst store = getStore();\n\t\t\t\t\tconst actions = getActions();\n\t\t\t\t\tawait actions.getCounters();\n\n\t\t\t\t\tconst obj = { title };\n\t\t\t\t\tconst { data: counter } = await Axios.post(apiEndpoint, obj);\n\t\t\t\t\tconst counters = [ ...store.counters, counter ];\n\n\t\t\t\t\tconst filter = { lessQuery: '', greaterQuery: '' };\n\t\t\t\t\tconst query = '';\n\n\t\t\t\t\tnotifications.addNotification({\n\t\t\t\t\t\ttitle: 'Yay!',\n\t\t\t\t\t\tmessage: `${counter.title} was successfully added`,\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tcontainer: 'top-center',\n\t\t\t\t\t\tanimationIn: [ 'animated', 'fadeIn' ],\n\t\t\t\t\t\tanimationOut: [ 'animated', 'fadeOut' ],\n\t\t\t\t\t\tdismiss: {\n\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tsetStore({ counters, filter, query });\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleAddition: async (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst sort = store.sort;\n\t\t\t\tsort.active = false;\n\t\t\t\tawait setStore({ sort });\n\n\t\t\t\tconst counters = [ ...store.counters ];\n\t\t\t\tconst index = counters.indexOf(item);\n\n\t\t\t\tconst obj = { id: item.id };\n\t\t\t\tconst { data: counter } = await Axios.post(`${apiEndpoint}/inc`, obj);\n\t\t\t\tcounters[index] = { ...counter };\n\n\t\t\t\tsetStore({ counters });\n\t\t\t},\n\t\t\thandleSubstraction: async (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst sort = store.sort;\n\t\t\t\tsort.active = false;\n\t\t\t\tawait setStore({ sort });\n\n\t\t\t\tconst counters = [ ...store.counters ];\n\t\t\t\tconst index = counters.indexOf(item);\n\n\t\t\t\tconst obj = { id: item.id };\n\t\t\t\tconst { data: counter } = await Axios.post(`${apiEndpoint}/dec`, obj);\n\t\t\t\tcounters[index] = { ...counter };\n\n\t\t\t\tsetStore({ counters });\n\t\t\t},\n\t\t\thandleDelete: async (item) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst actions = getActions();\n\n\t\t\t\tlet counters = [ ...store.counters ];\n\t\t\t\tcounters = counters.filter((c) => c !== item);\n\t\t\t\tif (counters.length) {\n\t\t\t\t\tsetStore({ counters });\n\t\t\t\t} else {\n\t\t\t\t\tactions.cleanSearch();\n\t\t\t\t}\n\n\t\t\t\tconst obj = { id: item.id };\n\t\t\t\tawait Axios.delete(apiEndpoint, { data: obj });\n\t\t\t},\n\t\t\thandleSort: (selectedColumn) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet sort = { ...store.sort };\n\t\t\t\tlet sortedCounters = [ ...store.counters ];\n\n\t\t\t\tif (sort.column === selectedColumn) {\n\t\t\t\t\tsort.order = sort.order === 'asc' ? 'desc' : 'asc';\n\t\t\t\t\tsort.active = true;\n\t\t\t\t} else {\n\t\t\t\t\tsort.column = selectedColumn;\n\t\t\t\t\tsort.order = 'asc';\n\t\t\t\t\tsort.active = true;\n\t\t\t\t}\n\n\t\t\t\tsortedCounters = sort.active\n\t\t\t\t\t? _.orderBy(sortedCounters, [ sort.column ], [ sort.order ])\n\t\t\t\t\t: sortedCounters;\n\n\t\t\t\tsetStore({ sort, counters: sortedCounters });\n\t\t\t},\n\t\t\thandleSearch: (query) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst actions = getActions();\n\t\t\t\tlet allCounters = [ ...store.counters ];\n\n\t\t\t\tif (query.trim() !== '') {\n\t\t\t\t\tlet counters = store.counters.filter((c) => c.title.toLowerCase().includes(query.toLowerCase()));\n\t\t\t\t\tsetStore({ query, counters, allCounters });\n\t\t\t\t} else {\n\t\t\t\t\tactions.getCounters();\n\t\t\t\t\tsetStore({ query: '' });\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleFilter: (type, queryType, number) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst actions = getActions();\n\t\t\t\tlet allCounters = [ ...store.counters ];\n\n\t\t\t\tconst filter = { ...store.filter };\n\t\t\t\tlet query = parseInt(number);\n\t\t\t\tquery = Number.isNaN(query) ? '' : query;\n\n\t\t\t\tif (query !== '') {\n\t\t\t\t\tfilter[type] = true;\n\t\t\t\t\tfilter[queryType] = query;\n\t\t\t\t\tlet counters = [ ...store.counters ];\n\n\t\t\t\t\tif (type === 'less') {\n\t\t\t\t\t\tcounters = counters.filter((i) => i.count < filter.lessQuery);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcounters = counters.filter((i) => i.count > filter.greaterQuery);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetStore({ filter, counters, allCounters });\n\t\t\t\t} else {\n\t\t\t\t\tfilter[type] = false;\n\t\t\t\t\tfilter.lessQuery = '';\n\t\t\t\t\tfilter.greaterQuery = '';\n\n\t\t\t\t\tactions.getCounters();\n\t\t\t\t\tsetStore({ filter });\n\t\t\t\t}\n\t\t\t},\n\t\t\tcleanFilter: (type, queryType) => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tlet filter = { ...store.filter };\n\t\t\t\tfilter[type] = false;\n\t\t\t\tfilter[queryType] = '';\n\t\t\t\tsetStore({ filter });\n\t\t\t},\n\t\t\tcleanSearch: () => {\n\t\t\t\tconst store = getStore();\n\t\t\t\tconst actions = getActions();\n\n\t\t\t\tlet filter = { ...store.filter };\n\t\t\t\tfilter.less = false;\n\t\t\t\tfilter.lessQuery = '';\n\t\t\t\tfilter.greater = false;\n\t\t\t\tfilter.greaterQuery = '';\n\n\t\t\t\tactions.getCounters();\n\t\t\t\tsetStore({ query: '', filter });\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default getState;\n"]},"metadata":{},"sourceType":"module"}