{"ast":null,"code":"import React,{useEffect}from'react';import'./app.css';import injectContext,{Consumer}from'../store/appContext';import CounterHolder from'./counterHolder/counterHolder';import TotalCount from'./totalCount/totalCount';import CounterGenerator from'./counterGenerator/counterGenerator';import _ from'lodash';import Searchbox from'./searchbox/searchbox';import Filters from'./filters/filters';var App=function App(){var localActions=null;useEffect(function(){/* const load = async () => {\n\t\t\tconst response = await axios.get('/api/v1/counters');\n\t\t\t\n\t\t\tconsole.log(state.store);\n\t\t};\n\t\tload(); */if(localActions!==null){console.log('holi');}},[]);return React.createElement(Consumer,null,function(_ref){var store=_ref.store,actions=_ref.actions;var counters=store.counters,sort=store.sort,query=store.query,filter=store.filter;localActions=actions;var total='';var sorted='';if(counters.length){total=counters.map(function(c){return c.count;}).reduce(function(acc,val){return acc+val;});var items=query!==''?counters.filter(function(c){return c.name.toLowerCase().includes(query.toLowerCase());}):counters;var filtered=filter.number!==''?filter.type==='less'?items.filter(function(i){return i.count<filter.number;}):items.filter(function(i){return i.count>filter.number;}):items;sorted=sort.active?_.orderBy(filtered,[sort.column],[sort.order]):filtered;}return React.createElement(React.Fragment,null,React.createElement(\"header\",null,React.createElement(Searchbox,{onSearch:actions.handleSearch}),React.createElement(TotalCount,{total:total?total:0})),React.createElement(\"main\",null,counters.length?React.createElement(React.Fragment,null,React.createElement(Filters,{actions:actions}),React.createElement(CounterHolder,{items:sorted,actions:actions,sort:sort})):React.createElement(\"h1\",null,\"You don't have any counters yet\"),React.createElement(CounterGenerator,{onNewCounter:actions.handleNewCounter})));});};export default injectContext(App);","map":{"version":3,"sources":["/Users/coni/Desktop/cornershop-test/client/src/components/app.jsx"],"names":["React","useEffect","injectContext","Consumer","CounterHolder","TotalCount","CounterGenerator","_","Searchbox","Filters","App","localActions","console","log","store","actions","counters","sort","query","filter","total","sorted","length","map","c","count","reduce","acc","val","items","name","toLowerCase","includes","filtered","number","type","i","active","orderBy","column","order","handleSearch","handleNewCounter"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport './app.css';\nimport injectContext, { Consumer } from '../store/appContext';\nimport CounterHolder from './counterHolder/counterHolder';\nimport TotalCount from './totalCount/totalCount';\nimport CounterGenerator from './counterGenerator/counterGenerator';\nimport _ from 'lodash';\nimport Searchbox from './searchbox/searchbox';\nimport Filters from './filters/filters';\n\nconst App = () => {\n\tlet localActions = null;\n\n\tuseEffect(() => {\n\t\t/* const load = async () => {\n\t\t\tconst response = await axios.get('/api/v1/counters');\n\t\t\t\n\t\t\tconsole.log(state.store);\n\t\t};\n\t\tload(); */\n\t\tif (localActions !== null) {\n\t\t\tconsole.log('holi');\n\t\t}\n\t}, []);\n\n\n\n\treturn (\n\t\t<Consumer>\n\t\t\t{({ store, actions }) => {\n\t\t\t\tconst { counters, sort, query, filter } = store;\n\t\t\t\tlocalActions = actions;\n\t\t\t\tlet total = '';\n\t\t\t\tlet sorted = '';\n\t\t\t\t\n\t\t\t\tif (counters.length){\n\t\t\t\t\ttotal = counters.map(c => c.count).reduce((acc, val) => acc + val);\n\t\t\t\t\tconst items = query !== '' ? counters.filter(c => c.name.toLowerCase().includes(query.toLowerCase())) : counters;\n\t\t\t\t\tconst filtered = filter.number !== '' ? (filter.type === 'less' ? items.filter(i => i.count < filter.number) : items.filter(i => i.count > filter.number)) : items;\n\t\t\t\t\tsorted = sort.active ? _.orderBy(filtered, [sort.column], [sort.order]) : filtered;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<Searchbox onSearch={actions.handleSearch}/>\n\t\t\t\t\t\t<TotalCount total={total ? total : 0} />\n\t\t\t\t\t</header>\n\n\t\t\t\t\t\n\t\t\t\t\t<main>\n\t\t\t\t\t{counters.length ? \n\t\t\t\t\t<>\n\t\t\t\t\t\t<Filters actions={actions} />\n\t\t\t\t\t\t<CounterHolder items={sorted} actions={actions} sort={sort} />\n\t\t\t\t\t</>: <h1>You don't have any counters yet</h1>}\n\t\t\t\t\t\t<CounterGenerator onNewCounter={actions.handleNewCounter} /> \n\t\t\t\t\t</main>\t\n\t\t\t\t\t\n\t\t\t\t</>)\n\t\t\t}}\n\t\t</Consumer>\n\t);\n};\n\nexport default injectContext(App);\n"]},"metadata":{},"sourceType":"module"}